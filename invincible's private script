local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library/main/Library", true))()

local window = library:AddWindow("invincibles priv script", {
    main_color = Color3.fromRGB(0, 0, 0),
    min_size = Vector2.new(470, 470),
    can_resize = false,
})

local main = window:AddTab("Main")
local Tools = main:AddFolder("Tools")

-- Helper function to auto-equip and fire "rep" (used by Pushups, Weight, Handstands, Situps, etc.)
local function startAutoRep(toolName, toggleVar)
    task.spawn(function()
        while _G[toggleVar] do
            local player = game.Players.LocalPlayer
            local character = player.Character
            if not character or not character:FindFirstChild("Humanoid") then
                player.CharacterAdded:Wait()
                character = player.Character
            end
            
            -- Auto-equip the tool
            local tool = player.Backpack:FindFirstChild(toolName)
            if tool then
                character.Humanoid:EquipTool(tool)
            end
            
            -- Fire rep event
            local muscleEvent = player:FindFirstChild("muscleEvent")
            if muscleEvent then
                muscleEvent:FireServer("rep")
            end
            
            task.wait(0.025)  -- Balanced: fast farm, low kick risk (adjust if needed)
        end
        
        -- Unequip when turned off
        local character = game.Players.LocalPlayer.Character
        if character then
            local equipped = character:FindFirstChild(toolName)
            if equipped then
                equipped.Parent = game.Players.LocalPlayer.Backpack
            end
        end
    end)
end

-- Auto Pushups
Tools:AddSwitch("Auto Pushups", function(state)
    _G.AutoPushups = state
    if state then
        startAutoRep("Pushups", "AutoPushups")
    end
end)

-- Auto Weight
Tools:AddSwitch("Auto Weight", function(state)
    _G.AutoWeight = state
    if state then
        startAutoRep("Weight", "AutoWeight")
    end
end)

-- Auto Handstands
Tools:AddSwitch("Auto Handstands", function(state)
    _G.AutoHandstands = state
    if state then
        startAutoRep("Handstands", "AutoHandstands")
    end
end)

-- Fast Punch (your original, slightly cleaned)
Tools:AddSwitch("Fast Punch", function(state)
    _G.FastPunch = state
    
    if state then
        -- Lower attack cooldown loop
        task.spawn(function()
            while _G.FastPunch do
                local player = game.Players.LocalPlayer
                local punch = player.Backpack:FindFirstChild("Punch") or (player.Character and player.Character:FindFirstChild("Punch"))
                if punch and punch:FindFirstChild("attackTime") then
                    punch.attackTime.Value = 0
                end
                task.wait(0.3)
            end
        end)
        
        -- Spam punch remote + activate
        task.spawn(function()
            while _G.FastPunch do
                local player = game.Players.LocalPlayer
                local muscleEvent = player:FindFirstChild("muscleEvent")
                if muscleEvent then
                    muscleEvent:FireServer("punch", "rightHand")
                    muscleEvent:FireServer("punch", "leftHand")
                end
                
                if player.Character and player.Character:FindFirstChild("Punch") then
                    player.Character.Punch:Activate()
                end
                
                task.wait(0.065)  -- Very fast; increase to 0.1 if kicked
            end
        end)
    end
end)
