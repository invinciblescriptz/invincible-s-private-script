local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library/main/Library", true))()

local window = library:AddWindow("invincibles priv script", {
    main_color = Color3.fromRGB(0, 0, 0),
    min_size = Vector2.new(470, 470),
    can_resize = false,
})

local main = window:AddTab("Main")
local Tools = main:AddFolder("Tools")

Tools:AddSwitch("Fast Punch", function(state)
    _G.fastHitActive = state -- 'state' is the boolean passed by the library
       
    if _G.fastHitActive then
        -- Handle Tool Modification
        task.spawn(function()
            while _G.fastHitActive do
                local player = game.Players.LocalPlayer
                local punch = player.Backpack:FindFirstChild("Punch")
                if punch and player.Character then
                    punch.Parent = player.Character
                    if punch:FindFirstChild("attackTime") then
                        punch.attackTime.Value = 0
                    end
                end
                task.wait(0.5)
            end
        end)

        -- Handle Rapid Punching
        task.spawn(function()
            while _G.fastHitActive do
                local player = game.Players.LocalPlayer
                -- Remote firing for Muscle Legends / Strength Simulators
                if player:FindFirstChild("muscleEvent") then
                    player.muscleEvent:FireServer("punch", "rightHand")
                    player.muscleEvent:FireServer("punch", "leftHand")
                end
                
                local character = player.Character
                local punchTool = character and character:FindFirstChild("Punch")
                if punchTool then
                    punchTool:Activate()
                end
                task.wait(0.07)
            end
        end)
    end
end)

Tools:AddSwitch("pushups") function(state)

local Toggle = Tabs.AutoFarm:CreateToggle("Pushups", {
    Title = "Auto Pushups",
    Description = "Automatically performs pushups to gain strength",
    Default = false,
    Callback = function(Value)
        _G.AutoPushups = Value
        if Value then
            -- Wrap the loop in task.spawn so it doesn't block the UI
            task.spawn(function()
                while _G.AutoPushups do
                    -- Check and equip tool if not held
                    local char = game.Players.LocalPlayer.Character
                    if char and not char:FindFirstChild("Pushups") then
                        local tool = game.Players.LocalPlayer.Backpack:FindFirstChild("Pushups")
                        if tool then
                            char.Humanoid:EquipTool(tool)
                        end
                    end
                    
                    -- Fire the rep event
                    game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
                    
                    -- Use a small delay to prevent rate-limiting or crashes
                    task.wait(0.05) 
                end
            end)
        end
    end
})
